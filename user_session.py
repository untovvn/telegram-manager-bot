"""
Модуль для управления сессией пользователя.

Хранит информацию о последнем активном пользователе, чтобы менеджер
мог отправлять сообщения, не отвечая на конкретное сообщение.
"""

class UserSession:
    """
    Простой класс для хранения ID последнего активного пользователя в памяти.

    В более сложных системах это можно заменить на хранилище в Redis
    или базе данных для сохранения состояния м��жду перезапусками бота.
    """
    def __init__(self):
        self._active_user_id: int | None = None

    def set_active_user(self, user_id: int) -> None:
        """
        Устанавливает пользователя как последнего активного.
        """
        self._active_user_id = user_id

    def get_active_user(self) -> int | None:
        """
        Возвращает ID последнего активного пользователя.
        """
        return self._active_user_id

    def clear(self) -> None:
        """
        Сбрасывает сессию (очищает ID активного пользователя).
        """
        self._active_user_id = None
 